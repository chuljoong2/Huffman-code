## 허프만 압축

> **허프만 압축(코딩)이란?**
- 특정 문자를 입력받았을 때 그 문자의 고정된 크기를 압축하여, **전체적인 파일의 크기를 줄이거나 전송 시간을 단축**하기 위한 것을 의미한다. 
- 표현 방식은 **이진 숫자**로 나타낸다.
- 이진 트리의 형태로 **허프만 트리**를 구성한다.
- 트리의 루트를 기준으로 **왼쪽으로 갈 땐 0, 오른쪽으로 갈 땐 1**로 표현한다.
- 허프만 압축을 통해 빈도수 낮은 문자에는 짧은 이진 숫자가 할당되고, 빈도수가 높은 문자에는 긴 이진 숫자가 할당된다. 
- 변환된 문자들은 서로 중복되지 않기에, 다른 문자들간 구별이 쉽다는 장점이 있다.
<br/>
___
<br/>
E.G. 1) 기본 허프만 압축 

> **허프만 압축** *알고리즘*
```
HuffmanCoding Algorithm

Input: 입력된 n개의 문자에 대한 각각의 빈도수
Output: Huffman Tree

입력받은 각 문자에 대한 노드를 만들고, 각각의 빈도수를 그 노드에 저장함.
각 노드들의 빈도수를 비교하기 위해 우선순위 큐 Q를 사용함.
while {Q의 Node 수 >= 2} {
    빈도수가 작은 2개(A, B)의 노드를 Q에서 제거
    새 노드 N을 만들고, 제거한 노드를 자식노드로 설정
    N의 빈도수 <- A의 빈도수 + B의 빈도수
    N을 Q에 삽입
}
return Q
```

위 알고리즘이 수행되는 과정을 살펴보자
<br/>

문자 **A, T, G, C**가 있다고 하고, 가중치는 각각 *450 90 120 270*이다.
1) 우선순위 큐(Q) 생성
2) 가중치가 작은 T, C, G, A 순서로 배열
3) 빈도수가 제일 작은 두 노드(T, G)를 제거
4) 새 노드 N1를 만들어, 두 노드의 부모노드가 됨(새 노드의 가중치는 두 노드의 가중치를 더한 값과 같음)
5) Q에 남아있는 것 중 가중치가 새 노드와 비슷한 노드 C를 꺼내와서 N1과 C를 더해 새 노드 N2(480) 생성
6) Q에 남아있는 A와 N2를 비교 후 더하여 새로운 노드 N3(930)을 생성

<br/>

```
정리된 최종 허프만 트리
            N3
          /    \
         A     N2
              /  \
             N1   C
            /  \      
           T    G
```
### 허프만 코드 변환 값
A : 0<br/>
T : 100<br/>
G : 120<br/>
C : 11<br/>

### 허프만 압축 후 크기 비교
1) 기존 파일 크기(아스키코드)<br/>
계산 방법<br/>
**(모든 노드 가중치의 합) x 8** <br/>
(450 + 90 + 120 + 270) x 8 = 7440bit

2) 압축된 파일 크기<br/>
계산 방법<br/>
**(가중치 x 저장된 bit 수) + ...** <br/>
(450 x 1)+(90 x 3)+(120 x 3)+(270 x 2) = 1620bit <br/>

허프만 압축 과정을 통해 **약 5배** 정도 압축된 것을 확인할 수 있다.

<br/>

E.G. 2) 문자를 입력받아 허프만 압축  <br/>




_  __
## Reference
* 양성봉 著, **알기쉬운 알고리즘** 
